---
// Bilingual HowWeWork section, minimalistic, modern, using only brand colors and Heroicons
// Props: lang ('en' | 'es')
import { CalendarDaysIcon, UserIcon, DocumentTextIcon, CreditCardIcon, StarIcon, ShieldCheckIcon, BoltIcon, HeartIcon, CheckCircleIcon, ArrowRightIcon } from '@heroicons/react/24/solid';
const { lang = 'es' }: { lang?: 'en' | 'es' } = Astro.props;
import ContactForm from "../../ui/forms/ContactForm.tsx";

const content = {
  es: {
    header: "Cómo Trabajamos",
    subheader: "Proceso simple y transparente para obtener asesoría legal experta en Colombia",
    consultation: {
      title: "Consulta Inicial",
      subtitle: "Sesión personalizada de 45 minutos",
      price: "Tarifa de Consulta",
      usd: "$45 USD",
      cop: "175,000 COP",
      payment_methods: "Métodos de Pago",
      methods: [
        { label: "Bancolombia: 61400002492" },
        { label: "Stripe (Tarjetas)" },
        { label: "Revolut: @daniel8hsk" },
      ],
      stripe: "Pagar con Stripe",
      stripe_url: "https://buy.stripe.com/7sI29Cg361Ja3sI149",
      includes: "Lo que Incluye:",
      features: [
        "Evaluación legal personalizada",
        "Cotización detallada y cronograma",
        "Consulta bilingüe",
        "Soporte de seguimiento"
      ]
    },
    calendly: {
      title: "Programa tu Consulta",
      subtitle: "Elige un horario que te funcione"
    },
    contact: {
      title: "Envíanos un Mensaje",
      subtitle: "Responderemos en 24 horas"
    },
    trust: {
      title: "¿Por qué Elegir Capital M Law?",
      items: [
        { icon: "shield", title: "Equipo Experto", desc: "Abogados bilingües con años de experiencia" },
        { icon: "bolt", title: "Servicio Rápido", desc: "Tiempos de respuesta rápidos y procesos eficientes" },
        { icon: "dollar", title: "Precios Transparentes", desc: "Costos claros y directos sin cargos ocultos" },
        { icon: "star", title: "Resultados Comprobados", desc: "Cientos de casos exitosos completados" }
      ]
    },
    contact_info: {
      title: "Ponte en Contacto",
      items: [
        { icon: "envelope", value: "info@capitaleme.com" },
        { icon: "phone", value: "+57 314 602 2411" },
        { icon: "map", value: "Medellín, Colombia" }
      ]
    },
    cta: {
      title: "¿Listo para Comenzar tu Viaje Legal en Colombia?",
      subtitle: "Únete a cientos de clientes satisfechos que han confiado en Capital M Law para sus necesidades legales en Colombia.",
      calendly: "Reservar Consulta",
      whatsapp: "WhatsApp"
    }
  },
  en: {
    header: "How We Work",
    subheader: "Simple and transparent process to get expert legal advice in Colombia",
    consultation: {
      title: "Initial Consultation",
      subtitle: "45-minute personalized session",
      price: "Consultation Fee",
      usd: "$45 USD",
      cop: "175,000 COP",
      payment_methods: "Payment Methods",
      methods: [
        { label: "Bancolombia: 61400002492" },
        { label: "Stripe (Cards)" },
        { label: "Revolut: @daniel8hsk" },
      ],
      stripe: "Pay with Stripe",
      stripe_url: "https://buy.stripe.com/7sI29Cg361Ja3sI149",
      includes: "What's Included:",
      features: [
        "Personalized legal assessment",
        "Detailed quote and timeline",
        "Bilingual consultation",
        "Follow-up support"
      ]
    },
    calendly: {
      title: "Book Your Consultation",
      subtitle: "Choose a time that works for you"
    },
    contact: {
      title: "Send Us a Message",
      subtitle: "We will reply within 24 hours"
    },
    trust: {
      title: "Why Choose Capital M Law?",
      items: [
        { icon: "shield", title: "Expert Team", desc: "Bilingual lawyers with years of experience" },
        { icon: "bolt", title: "Fast Service", desc: "Quick response times and efficient processes" },
        { icon: "dollar", title: "Transparent Pricing", desc: "Clear, direct costs with no hidden fees" },
        { icon: "star", title: "Proven Results", desc: "Hundreds of successful cases completed" }
      ]
    },
    contact_info: {
      title: "Get in Touch",
      items: [
        { icon: "envelope", value: "info@capitaleme.com" },
        { icon: "phone", value: "+57 314 602 2411" },
        { icon: "map", value: "Medellín, Colombia" }
      ]
    },
    cta: {
      title: "Ready to Start Your Legal Journey in Colombia?",
      subtitle: "Join hundreds of satisfied clients who have trusted Capital M Law for their legal needs in Colombia.",
      calendly: "Book Consultation",
      whatsapp: "WhatsApp"
    }
  }
};
const t = content[lang] as typeof content['en'];

---

<section class="py-24 bg-white relative overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 bg-gradient-to-br from-gray-50 to-white"></div>
  <div class="absolute top-0 left-0 w-full h-full opacity-5" style={{
    backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
  }}></div>
  
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header Section -->
    <div class="text-center mb-20">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">{t.header}</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">{t.subheader}</p>
    </div>

    <!-- Step-by-Step Process -->
    <div class="mb-20">
      <div class="grid grid-cols-1 md:grid-cols-5 gap-8">
        {[
          { icon: <CalendarDaysIcon className="w-8 h-8 text-primary" />, label: lang === 'es' ? 'Contacto' : 'Contact', desc: lang === 'es' ? 'Consulta inicial' : 'Initial consultation' },
          { icon: <UserIcon className="w-8 h-8 text-primary" />, label: lang === 'es' ? 'Evaluación' : 'Assessment', desc: lang === 'es' ? 'Análisis del caso' : 'Case analysis' },
          { icon: <DocumentTextIcon className="w-8 h-8 text-primary" />, label: lang === 'es' ? 'Cotización' : 'Quote', desc: lang === 'es' ? 'Propuesta detallada' : 'Detailed proposal' },
          { icon: <CreditCardIcon className="w-8 h-8 text-primary" />, label: lang === 'es' ? 'Pago' : 'Payment', desc: lang === 'es' ? 'Proceso seguro' : 'Secure process' },
          { icon: <StarIcon className="w-8 h-8 text-primary" />, label: lang === 'es' ? 'Ejecución' : 'Execution', desc: lang === 'es' ? 'Trabajo profesional' : 'Professional work' }
        ].map((step, idx) => (
          <div class="relative">
            <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 text-center">
              <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                {step.icon}
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">{step.label}</h3>
              <p class="text-sm text-gray-600">{step.desc}</p>
            </div>
            {idx < 4 && (
              <div class="hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2">
                <ArrowRightIcon className="w-6 h-6 text-gray-300" />
              </div>
            )}
          </div>
        ))}
      </div>
    </div>

    <!-- Why Choose Capital M Law -->
    <div class="mb-20">
      <h3 class="text-3xl font-bold text-gray-900 text-center mb-12">{t.trust.title}</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        {t.trust.items.map((item: { icon: string; title: string; desc: string }) => (
          <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 text-center">
            <div class="w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-6">
              {item.icon === 'shield' && <ShieldCheckIcon className="w-8 h-8 text-secondary" />}
              {item.icon === 'bolt' && <BoltIcon className="w-8 h-8 text-secondary" />}
              {item.icon === 'dollar' && <CreditCardIcon className="w-8 h-8 text-secondary" />}
              {item.icon === 'star' && <StarIcon className="w-8 h-8 text-secondary" />}
              {item.icon === 'heart' && <HeartIcon className="w-8 h-8 text-secondary" />}
            </div>
            <h4 class="text-xl font-semibold text-gray-900 mb-3">{item.title}</h4>
            <p class="text-gray-600 leading-relaxed">{item.desc}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- Consultation Features -->
    <div class="mb-20">
      <div class="max-w-4xl mx-auto">
        <h3 class="text-3xl font-bold text-gray-900 text-center mb-12">
          {lang === 'es' ? 'Características de la Consulta' : 'Consultation Features'}
        </h3>
        <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            {t.consultation.features.map((feature: string) => (
              <div class="flex items-start gap-4">
                <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                  <CheckCircleIcon className="w-4 h-4 text-green-600" />
                </div>
                <span class="text-gray-700 leading-relaxed">{feature}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Methods -->
    <div class="mb-20">
      <div class="max-w-4xl mx-auto">
        <h3 class="text-3xl font-bold text-gray-900 text-center mb-12">
          {lang === 'es' ? 'Métodos de Pago Disponibles' : 'Available Payment Methods'}
        </h3>
        <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100">
          <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
            {t.consultation.methods.map((method: { label: string }) => (
              <div class="flex items-center gap-4 p-4 bg-gray-50 rounded-lg">
                <CreditCardIcon className="w-6 h-6 text-primary" />
                <span class="text-gray-700 font-medium">{method.label}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="text-center">
      <div class="bg-gradient-to-r from-primary to-secondary rounded-3xl p-12 text-white">
        <h3 class="text-3xl md:text-4xl font-bold mb-6">{t.cta.title}</h3>
        <p class="text-xl text-white/90 mb-8 max-w-3xl mx-auto leading-relaxed">{t.cta.subtitle}</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="https://calendly.com/capital-m-law/programmed-initial-consultation"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center px-8 py-4 bg-white text-primary rounded-lg font-semibold text-lg hover:bg-gray-100 transition-all duration-200"
          >
            {t.cta.calendly}
          </a>
          <a 
            href="https://wa.me/573146022411"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center px-8 py-4 border-2 border-white text-white rounded-lg font-semibold text-lg hover:bg-white hover:text-primary transition-all duration-200"
          >
            {t.cta.whatsapp}
          </a>
        </div>
      </div>
    </div>
  </div>
</section> 