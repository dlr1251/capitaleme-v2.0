---
import Layout from "../layouts/Layout.astro";
import { getAllContentData } from '../server/lib/contentData.js';

// Get CLKR data
const menuData = await getAllContentData('en');

console.log('=== CLKR TEST PAGE ===');
console.log('menuData:', JSON.stringify(menuData, null, 2));
console.log('clkrServices:', menuData?.clkrServices);
console.log('clkrServices length:', menuData?.clkrServices?.length);
console.log('clkrModules:', menuData?.clkrModules);
console.log('clkrModules length:', menuData?.clkrModules?.length);
---

<Layout title="CLKR Test Page" lang="en" menuData={menuData}>
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">CLKR Data Test Page</h1>
    
    <div class="space-y-6">
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-4">CLKR Services</h2>
        <p><strong>Count:</strong> {menuData?.clkrServices?.length || 0}</p>
        <p><strong>Data:</strong></p>
        <pre class="bg-gray-100 p-4 rounded text-sm overflow-auto">
          {JSON.stringify(menuData?.clkrServices || [], null, 2)}
        </pre>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-4">CLKR Modules</h2>
        <p><strong>Count:</strong> {menuData?.clkrModules?.length || 0}</p>
        <p><strong>Data:</strong></p>
        <pre class="bg-gray-100 p-4 rounded text-sm overflow-auto">
          {JSON.stringify(menuData?.clkrModules || [], null, 2)}
        </pre>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-4">Total Items</h2>
        <p><strong>CLKR Count:</strong> {menuData?.totalItems?.clkr || 0}</p>
        <p><strong>All Total Items:</strong></p>
        <pre class="bg-gray-100 p-4 rounded text-sm overflow-auto">
          {JSON.stringify(menuData?.totalItems || {}, null, 2)}
        </pre>
      </div>
    </div>
  </div>
</Layout> 